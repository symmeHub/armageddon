{"version":3,"kind":"Notebook","sha256":"0b40f938d083eb77e56fd1ba5e1a620df378d950dd12f9bcdf6910c3ede0ff07","slug":"image-processing-tutorial","location":"/image_processing/exercises/image_processing_tutorial.ipynb","dependencies":[],"frontmatter":{"title":"Tutorial: Counting objects using labeling","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"myenv","language":"python"},"github":"https://github.com/symmeHub/positron","numbering":{"title":{"offset":2}},"source_url":"https://github.com/symmeHub/positron/blob/main/book/image_processing/exercises/image_processing_tutorial.ipynb","edit_url":"https://github.com/symmeHub/positron/edit/main/book/image_processing/exercises/image_processing_tutorial.ipynb","thumbnail":"/armageddon/build/coins-f02da5a0ab11d032db1ddca4b8603b95.jpg","exports":[{"format":"ipynb","filename":"image_processing_tutorial.ipynb","url":"/armageddon/build/image_processing_tut-8d76599be584de87733335f7fe515a40.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zeTFWvoyAS"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"eeMBsr1oHA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The goal of this tutorial is to learn basic image processing skills using a simple picture of coins on a table. Your task is to identify and count the coins.\nYou can use the following image or take a picture of your own and work with it.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CDXkL7qYAF"}],"key":"nuPfjQrPXo"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"image","class":"rotateimg rot-135","url":"/armageddon/build/coins-f02da5a0ab11d032db1ddca4b8603b95.jpg","width":"300px","key":"icHIf1En40","urlSource":"coins.jpg"}],"key":"tGEoexey9N"},{"type":"heading","depth":2,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MXn6AWWP6F"}],"identifier":"setup","label":"Setup","html_id":"setup","implicit":true,"key":"qDPihVyQPy"}],"key":"c9O1crVPlb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib widget\nfrom skimage import io\nimport numpy as np\nfrom matplotlib import pyplot as plt\nfrom matplotlib import cm\nfrom scipy import ndimage\nimport os\n\n","key":"t4553okXw4"},{"type":"outputs","id":"UFd-4YhimU4L_ZQ3IYBiV","children":[],"key":"ROjlIym0xq"}],"key":"xn6dNCBpgD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open the file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ncfveK3lzH"}],"identifier":"open-the-file","label":"Open the file","html_id":"open-the-file","implicit":true,"key":"CTeDbQ7BLy"}],"key":"q7TEiYwpXb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"path = \"coins.jpg\"\nfiles = os.listdir(\"./\")\nif path in files:\n    print(\"Ok, the file is in {0}\".format(files))\nelse:\n    print(\"The file is not in {0} , retry !\".format(files))","key":"St8zW3K9xf"},{"type":"outputs","id":"_rSs7KVtDgiikvV_lOEDV","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Ok, the file is in ['dice.jpg', 'coins.jpg', 'HSLA_340.jpg', 'exercises.md', 'image_processing_practical_work.ipynb', 'image_processing_tutorial.ipynb', 'image_processing_practical_work_bonus.ipynb']\n"},"key":"ZRRLcRPX3I"}],"key":"YRBqWSf3X8"}],"key":"BW5pviq913"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"im = io.imread(path)\nplt.figure()\nplt.imshow(im)\nplt.show()","key":"v6AtXYMxx5"},{"type":"outputs","id":"_GsuZ3N4prs0_FYhviRNL","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"Canvas(toolbar=Toolbar(toolitems=[('Home', 'Reset original view', 'home', 'home'), ('Back', 'Back to previous â€¦","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b51eb50d740bd2f45963993335b06af9","path":"/armageddon/build/b51eb50d740bd2f45963993335b06af9.png"},"text/html":{"content_type":"text/html","hash":"2d8e35468b3aeda1d909b911f31d1f4b","path":"/armageddon/build/2d8e35468b3aeda1d909b911f31d1f4b.html"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"c6bb96cc1da145dd942aefd535da4dba\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},"key":"UOo6VHhXQm"}],"key":"NN8L6FXi3F"}],"key":"rYhjEo9zRy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f\"The image is a {type(im)}\")\nprint(f\"The shape of this numpy array is {im.shape} and the data type is {im.dtype}\")\nprint(f\"This image has {im.size} pixels\")\nprint(f\"The height is {im.shape[0]} and the width is {im.shape[1]}\")\nprint(f\"The image has {im.shape[2]} channels\")","key":"PQ4eVJs00p"},{"type":"outputs","id":"UIiFK4KUv7fylxWU3jOE3","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"The image is a <class 'numpy.ndarray'>\nThe shape of this numpy array is (756, 1082, 3) and the data type is uint8\nThis image has 2453976 pixels\nThe height is 756 and the width is 1082\nThe image has 3 channels\n"},"key":"bpogtNYxVD"}],"key":"qwrA5Af6id"}],"key":"ynWLX9yFow"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the histogram","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e2EtTE4oAi"}],"identifier":"plot-the-histogram","label":"Plot the histogram","html_id":"plot-the-histogram","implicit":true,"key":"m0QU61hL8u"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the histogram of the image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ncnt7fh2aW"}],"key":"nM7nJoykxt"}],"key":"VswnxeaG2m"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"A8UiZFR7jN"},{"type":"outputs","id":"54Y8p4kSUb-c0koQ3YNNy","children":[],"key":"oA2Qin21Xt"}],"key":"YwwTDYIIiA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thresholding","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EqqfMnloUS"}],"identifier":"thresholding","label":"Thresholding","html_id":"thresholding","implicit":true,"key":"ptGiRln889"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use thresholding to convert the image to a binary format.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lslWmHbG8z"}],"key":"xSvTtVwLDu"}],"key":"wJA1jfZpyt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"Sfuz0FXDYU"},{"type":"outputs","id":"XdDDMImxYUJNdgGYjcYYH","children":[],"key":"d8Q8ScwGnZ"}],"key":"APtAc4PNBv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Erosion / Dilation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ErBF4HCbs9"}],"identifier":"erosion-dilation","label":"Erosion / Dilation","html_id":"erosion-dilation","implicit":true,"key":"opWeMXFrie"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iM6rv12qK4"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"erosion","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GinD6gruBB"}],"key":"ED6ZXd6cor"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fBVdT4osuC"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dilation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YRK9PuRygW"}],"key":"l1Zz45HWji"},{"type":"text","value":" to clean the image if needed to isolate each coin.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lhCcJI0sOh"}],"key":"Szig9VFRsw"}],"key":"qjui0cnvTg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"Kdh7vfwVd2"},{"type":"outputs","id":"7l4DaSMadYuCwtm-NLqTW","children":[],"key":"qTvBW7NWTh"}],"key":"GU6VEjD1hl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Labeling","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eAdSt2BhaF"}],"identifier":"labeling","label":"Labeling","html_id":"labeling","implicit":true,"key":"wZ79klcIe2"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use the labeling (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"D85Qv3HBgF"},{"type":"inlineCode","value":"scipy.ndimage.measurements.label","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IHLUssupO4"},{"type":"text","value":") algorithm to isolate each coin.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FzFK9vcJVw"}],"key":"IHaGP9zg6a"}],"key":"Bh2q4FRM7g"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"hLP1Qt6843"},{"type":"outputs","id":"E-nzUrJaSvH5yT5zvKwG2","children":[],"key":"Z6PU7wnvsJ"}],"key":"dAO3ga2gTR"}],"key":"gi5tFM485Z"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Exercices","url":"/exercises-1","group":"Image"},"next":{"title":"Practical Work: Steel microstructure","url":"/image-processing-practical-work","group":"Image"}}},"domain":"http://localhost:3002"}