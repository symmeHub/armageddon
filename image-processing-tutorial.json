{"version":3,"kind":"Notebook","sha256":"0b40f938d083eb77e56fd1ba5e1a620df378d950dd12f9bcdf6910c3ede0ff07","slug":"image-processing-tutorial","location":"/image_processing/exercises/image_processing_tutorial.ipynb","dependencies":[],"frontmatter":{"title":"Tutorial: Counting objects using labeling","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"myenv","language":"python"},"github":"https://github.com/symmeHub/positron","numbering":{"title":{"offset":2}},"source_url":"https://github.com/symmeHub/positron/blob/main/book/image_processing/exercises/image_processing_tutorial.ipynb","edit_url":"https://github.com/symmeHub/positron/edit/main/book/image_processing/exercises/image_processing_tutorial.ipynb","thumbnail":"/armageddon/build/coins-f02da5a0ab11d032db1ddca4b8603b95.jpg","exports":[{"format":"ipynb","filename":"image_processing_tutorial.ipynb","url":"/armageddon/build/image_processing_tut-8d76599be584de87733335f7fe515a40.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aDygyr3CPb"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"oLaPyya5hk"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The goal of this tutorial is to learn basic image processing skills using a simple picture of coins on a table. Your task is to identify and count the coins.\nYou can use the following image or take a picture of your own and work with it.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vZDu1V8B2E"}],"key":"RAXlodZZXm"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"image","class":"rotateimg rot-135","url":"/armageddon/build/coins-f02da5a0ab11d032db1ddca4b8603b95.jpg","width":"300px","key":"HkibuwC80q","urlSource":"coins.jpg"}],"key":"usQzLF8ZgV"},{"type":"heading","depth":2,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"V9tbhlfsQj"}],"identifier":"setup","label":"Setup","html_id":"setup","implicit":true,"key":"rmoTAWALUD"}],"key":"HtOlaqlEwq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib widget\nfrom skimage import io\nimport numpy as np\nfrom matplotlib import pyplot as plt\nfrom matplotlib import cm\nfrom scipy import ndimage\nimport os\n\n","key":"x1dY3fe2FV"},{"type":"outputs","id":"rp2yXymelQgrazh0e_Utp","children":[],"key":"mR1JEByTBt"}],"key":"AiNUbdpRS7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open the file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jqoitZ6WZJ"}],"identifier":"open-the-file","label":"Open the file","html_id":"open-the-file","implicit":true,"key":"vyEpSFQDjX"}],"key":"kecIfL0uYR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"path = \"coins.jpg\"\nfiles = os.listdir(\"./\")\nif path in files:\n    print(\"Ok, the file is in {0}\".format(files))\nelse:\n    print(\"The file is not in {0} , retry !\".format(files))","key":"iZ7JXHHW4W"},{"type":"outputs","id":"tEOFwkNXKTxFdmqB8Nwhz","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Ok, the file is in ['dice.jpg', 'coins.jpg', 'HSLA_340.jpg', 'exercises.md', 'image_processing_practical_work.ipynb', 'image_processing_tutorial.ipynb', 'image_processing_practical_work_bonus.ipynb']\n"},"key":"hFiaTBvAB1"}],"key":"OelceQNjUX"}],"key":"b2Lseb0ssv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"im = io.imread(path)\nplt.figure()\nplt.imshow(im)\nplt.show()","key":"Y9thq87XXV"},{"type":"outputs","id":"029kV17qcVd_v_jTRuXPN","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"Canvas(toolbar=Toolbar(toolitems=[('Home', 'Reset original view', 'home', 'home'), ('Back', 'Back to previous â€¦","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b51eb50d740bd2f45963993335b06af9","path":"/armageddon/build/b51eb50d740bd2f45963993335b06af9.png"},"text/html":{"content_type":"text/html","hash":"2d8e35468b3aeda1d909b911f31d1f4b","path":"/armageddon/build/2d8e35468b3aeda1d909b911f31d1f4b.html"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"c6bb96cc1da145dd942aefd535da4dba\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},"key":"V2sacAqMYu"}],"key":"PYqRO9vjRf"}],"key":"LfCXhi05v2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f\"The image is a {type(im)}\")\nprint(f\"The shape of this numpy array is {im.shape} and the data type is {im.dtype}\")\nprint(f\"This image has {im.size} pixels\")\nprint(f\"The height is {im.shape[0]} and the width is {im.shape[1]}\")\nprint(f\"The image has {im.shape[2]} channels\")","key":"x65GE5d0Mj"},{"type":"outputs","id":"a4ITaTY2PqJbAAFDuKAIz","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"The image is a <class 'numpy.ndarray'>\nThe shape of this numpy array is (756, 1082, 3) and the data type is uint8\nThis image has 2453976 pixels\nThe height is 756 and the width is 1082\nThe image has 3 channels\n"},"key":"Q8qPsWFAap"}],"key":"EtQ2lCaxAp"}],"key":"UdgRVwyihE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the histogram","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k2csShWeV1"}],"identifier":"plot-the-histogram","label":"Plot the histogram","html_id":"plot-the-histogram","implicit":true,"key":"Yp79lAb8Gw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the histogram of the image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A6s6JZU7dI"}],"key":"uPkkxP3JLH"}],"key":"XWMMXdr5Vc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"aPZ1el4sLk"},{"type":"outputs","id":"tzwYDaTdLej8chzANX8m3","children":[],"key":"R3mlveAP2V"}],"key":"eDktZT6ylT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thresholding","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ijvcFkOQCH"}],"identifier":"thresholding","label":"Thresholding","html_id":"thresholding","implicit":true,"key":"QjRgURHFR7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use thresholding to convert the image to a binary format.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WpEhvUinFG"}],"key":"vKZUQnefWE"}],"key":"vk0q7JCVH4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"toH9bsQ0fX"},{"type":"outputs","id":"jLgQk7_9lJz9NFVbTOs5K","children":[],"key":"lgInluzvDw"}],"key":"lkjnJUmxBI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Erosion / Dilation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fvkxZp4p8I"}],"identifier":"erosion-dilation","label":"Erosion / Dilation","html_id":"erosion-dilation","implicit":true,"key":"iwXESWeJJw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RJw5gfBor9"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"erosion","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TjdZUe0PB9"}],"key":"jC5Bw4HTyQ"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JnqQHD3XUG"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dilation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MKwIVAhyWP"}],"key":"s317heFcPZ"},{"type":"text","value":" to clean the image if needed to isolate each coin.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xVnwS50J9I"}],"key":"HqJUcZrXOD"}],"key":"lxsGzjOXHX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"wi4WAxLo6N"},{"type":"outputs","id":"KD5CHiLycFFRRXAQwtsiL","children":[],"key":"A1ZsSVRcrN"}],"key":"DoKzeigjtS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Labeling","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sfXF1t9xKn"}],"identifier":"labeling","label":"Labeling","html_id":"labeling","implicit":true,"key":"oSNSmDHOic"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use the labeling (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Nso5Ykg6Cx"},{"type":"inlineCode","value":"scipy.ndimage.measurements.label","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E6lNs1dJDQ"},{"type":"text","value":") algorithm to isolate each coin.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vwkHQ1jCU2"}],"key":"ukCTPSw0Td"}],"key":"IU4fxbAgWS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODE HERE","key":"cXskt9EVGB"},{"type":"outputs","id":"dqrIKEou7C2PA9GA94rff","children":[],"key":"M655j3m5y5"}],"key":"ewmH33fXLa"}],"key":"ano71OTfkc"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Exercices","url":"/exercises-1","group":"Image"},"next":{"title":"Practical Work: Steel microstructure","url":"/image-processing-practical-work","group":"Image"}}},"domain":"http://localhost:3004"}