{"version":3,"kind":"Notebook","sha256":"44447cb41a2cda6814190de9dd12095cab7dd31d40a9b2ddcd5862fd8e7441bb","slug":"image-processing-practical-work","location":"/image_processing/exercises/image_processing_practical_work.ipynb","dependencies":[],"frontmatter":{"title":"Practical Work: Steel microstructure","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"science","language":"python"},"github":"https://github.com/symmeHub/positron","numbering":{"title":{"offset":2}},"source_url":"https://github.com/symmeHub/positron/blob/main/book/image_processing/exercises/image_processing_practical_work.ipynb","edit_url":"https://github.com/symmeHub/positron/edit/main/book/image_processing/exercises/image_processing_practical_work.ipynb","thumbnail":"/armageddon/build/HSLA_340-24125819b574cbbea523f10b4eb5f5cd.jpg","exports":[{"format":"ipynb","filename":"image_processing_practical_work.ipynb","url":"/armageddon/build/image_processing_pra-c13f547cc30bcd09ec2df565c0753281.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this tutorial, you will study the microstructure of an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"akNxHIP6co"},{"type":"link","url":"http://automotive.arcelormittal.com/europe/products/HYTSS/HSLA/EN","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"HSLA steel","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HSTRzYBR89"}],"urlSource":"http://automotive.arcelormittal.com/europe/products/HYTSS/HSLA/EN","key":"ZK4m1Oilxw"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LapE8Uuoo6"}],"key":"zgK5Qqsols"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"image","url":"/armageddon/build/HSLA_340-24125819b574cbbea523f10b4eb5f5cd.jpg","width":"400px","key":"ZqLUMgPNJs","urlSource":"HSLA_340.jpg"}],"key":"oW5VTKOlrb"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Required files","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gTAOxDJwx3"}],"key":"fmRFFIbMdk"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Download the image file ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rAtsvtahIW"},{"type":"link","url":"/armageddon/build/HSLA_340-24125819b574cbbea523f10b4eb5f5cd.jpg","static":true,"children":[{"type":"text","value":"HSLA_340.jpg","key":"Th0PPqiGxv"}],"urlSource":"HSLA_340.jpg","protocol":"file","key":"Q6T65rwkqq"},{"type":"text","value":" and put it in the same folder as this notebook.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IzHYmoEvqU"}],"key":"YIcyCI0DHP"}],"class":"important","key":"xUleS4uRvz"},{"type":"heading","depth":2,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"quBSkaQ7ac"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"TlDKsEZZJS"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"This image is a micrograph of a high-strength low-alloy (HSLA) steel.\nThe image was taken using a scanning electron microscope (SEM) and shows the microstructure of the steel.\nThe microstructure shows grains and separated by ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UWWSxZy1Jj"},{"type":"link","url":"https://en.wikipedia.org/wiki/Grain_boundary","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"grain boundaries","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JDKnLxi5Wo"}],"urlSource":"https://en.wikipedia.org/wiki/Grain_boundary","data":{"page":"Grain_boundary","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"sSx5TXdDOp"},{"type":"text","value":".\nThe grains are regions of the material where the atoms are arranged in a regular pattern.\nThe grain boundaries are the interfaces between the grains.\nThe size of the grains and the distribution of the grain boundaries are important for the mechanical properties of the material.\nFor example, the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cqSo90kXEk"},{"type":"link","url":"https://en.wikipedia.org/wiki/Grain_boundary_strengthening","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Hall-Petch","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"E3CwfYXd8r"}],"urlSource":"https://en.wikipedia.org/wiki/Grain_boundary_strengthening","data":{"page":"Grain_boundary_strengthening","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"xlLYDR9nuk"},{"type":"text","value":" equation relates the yield strength of a material to the average grain size.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"tFGcHIV2Qz"}],"key":"sEzrI9vuQg"},{"type":"heading","depth":2,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Ressources","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DfLFeNVQ0q"}],"identifier":"ressources","label":"Ressources","html_id":"ressources","implicit":true,"key":"C2NClc8Wmb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://symmehub.github.io/positron/image_processing/support_material/blob_orientation.html","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Orientation and aspect-ratio with Positron","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"QvEC4hkMIs"}],"urlSource":"https://symmehub.github.io/positron/image_processing/support_material/blob_orientation.html","key":"v13QUg8Egy"}],"key":"vfhXnf5gpW"}],"key":"H3kuLAUGGO"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scikit-image.org/docs/0.24.x/auto_examples/segmentation/plot_regionprops.html","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Region properties with Scikit-Image","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"sxF3vzq7uk"}],"urlSource":"https://scikit-image.org/docs/0.24.x/auto_examples/segmentation/plot_regionprops.html","key":"USuMjkvSaG"}],"key":"zV8MTZIIqx"}],"key":"W6q2MbGFA3"}],"key":"KHpjSOvFln"},{"type":"heading","depth":2,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Objectives","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Tksqp5lRme"}],"identifier":"objectives","label":"Objectives","html_id":"objectives","implicit":true,"key":"x0GQapP4GF"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"In this tutorial, we will measure the grain size as well as the grain shape factor and the grain orientation.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"CWHWxyuRkT"}],"key":"gi2niiDvFa"},{"type":"heading","depth":2,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Tasks","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"i9A2CZpCF6"}],"identifier":"tasks","label":"Tasks","html_id":"tasks","implicit":true,"key":"nyEzpdjU8W"}],"key":"qvGSOdo6dH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# IF USING JUPYTER LAB, USE THE FOLLOWING COMMAND:\n%matplotlib widget\n# IF USING JUPYTER NOTEBOOK, USE THE FOLLOWING COMMAND:\n# %matplotlib notebook\n\nfrom PIL import Image\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nfrom scipy import ndimage\nimport pandas as pd\nimport os","key":"jGtRkjMSvC"},{"type":"outputs","id":"l9bKleDrhyAUltyBJTVIB","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Matplotlib is building the font cache; this may take a moment.\n"},"key":"s6Y4JaAeCA"}],"key":"dEZerkD6CQ"}],"key":"R4mDAmXcEC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"name = \"HSLA_340.jpg\"\nworkdir = \"./\"\nfiles = os.listdir(workdir)\nif name in files:\n    print(\"Ok, the file is in {0}\".format(files))\nelse:\n    print(\"The file is not in {0} , retry !\".format(files))","key":"PdKRglMSOA"},{"type":"outputs","id":"8IvmumMvTd6StX_VmlSO_","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Ok, the file is in ['dice.jpg', 'coins.jpg', 'HSLA_340.jpg', 'exercises.md', 'image_processing_practical_work.ipynb', 'image_processing_tutorial.ipynb', 'image_processing_practical_work_bonus.ipynb']\n"},"key":"fba8fvgE8k"}],"key":"pd4wTnm5bP"}],"key":"ha6OerC6w6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"im = np.array(Image.open(workdir + name))\nfig, ax = plt.subplots()\nax.axis(\"off\")\nplt.imshow(im, cmap=cm.copper)\nplt.colorbar()\nplt.show()","key":"vHp7xZm4Ks"},{"type":"outputs","id":"W2euN2er175ROtusVMDWK","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"Canvas(toolbar=Toolbar(toolitems=[('Home', 'Reset original view', 'home', 'home'), ('Back', 'Back to previous â€¦","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"e2566975c462761bda551a31c6d801a5","path":"/armageddon/build/e2566975c462761bda551a31c6d801a5.png"},"text/html":{"content_type":"text/html","hash":"3e412dffe78b66b285def3c5e0a98b46","path":"/armageddon/build/3e412dffe78b66b285def3c5e0a98b46.html"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"1d883e3b4302408790e5ddccb02d3238\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},"key":"wDQyt3HlS4"}],"key":"XuFR7H4Cje"}],"key":"XRHrusExhM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Histogram","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nueIG0bBet"}],"identifier":"histogram","label":"Histogram","html_id":"histogram","implicit":true,"key":"dmxvALzlQf"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the histogram of the image and find the right level for the thresholding.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TmaE5RSEqe"}],"key":"MrpsdbJAAB"}],"key":"dl2FuIFYwR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODDE HERE","key":"Oo1zQ7Qc7C"},{"type":"outputs","id":"aQFn5q0AZ0dywHeXrwb49","children":[],"key":"KiQp259cEP"}],"key":"BOH3y0bJrY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thresholding","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T0qboEK4dE"}],"identifier":"thresholding","label":"Thresholding","html_id":"thresholding","implicit":true,"key":"pMPnbFpSyn"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use thresholding to convert the image to binary format.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jtG0orpTxZ"}],"key":"x4X9Bk8HP1"}],"key":"QtpH5aIRg8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODDE HERE","key":"VoiNCb0DbK"},{"type":"outputs","id":"WNUutLbjWv0n_jW1A2dgg","children":[],"key":"BbHtlu9ct6"}],"key":"hUkVyIAKf8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Labeling","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RW3qhmGvRX"}],"identifier":"labeling","label":"Labeling","html_id":"labeling","implicit":true,"key":"z5JKFoN2jp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mtS4yu86EM"},{"type":"inlineCode","value":"ndimage.label","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TfL9cbO0L0"},{"type":"text","value":" to label each grain and plot the result.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Q5VlAYi8bE"}],"key":"Cd6KenhIDc"}],"key":"p12glGudtb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODDE HERE","key":"nzfH1px698"},{"type":"outputs","id":"iE9llRfcMIp0Dnmkf7dUv","children":[],"key":"CPaBLYqVo6"}],"key":"p4twh6TVbJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Grain size measurement","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pYweKvWumO"}],"identifier":"grain-size-measurement","label":"Grain size measurement","html_id":"grain-size-measurement","implicit":true,"key":"snUl2o5aW4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use the labeled image to measure the size (in pixels) of each grain. Create a new image on which the color of each pixel indicates the size of the grain it belongs to.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JbWrbuL1p0"}],"key":"ov6FFxkmr3"}],"key":"jTmZVzonM6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODDE HERE","key":"KrvgCOr96Q"},{"type":"outputs","id":"xiHiW5Usv7hJWO7_mGRtk","children":[],"key":"US3fOciKoP"}],"key":"CKe9MW1jlJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Grain shape factor and orientation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zlDCJFCHPG"}],"identifier":"grain-shape-factor-and-orientation","label":"Grain shape factor and orientation","html_id":"grain-shape-factor-and-orientation","implicit":true,"key":"S1Ne7Wqzm5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The cold rolling treatment modifies the shape factor as well as their orientation. Find a way to measure and represent the shape factor of each grain and to mesure their orientation.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LdXGZX4K6z"}],"key":"hokc8RuEkj"}],"key":"eYRWkjutEK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# CODDE HERE","key":"wF4yB4CZKv"},{"type":"outputs","id":"VvAAV4gvGxfIKwJz2xwLt","children":[],"key":"OVlikiZ8s3"}],"key":"eCS5hcfWQi"}],"key":"sLCi4YNAaw"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Tutorial: Counting objects using labeling","url":"/image-processing-tutorial","group":"Image"},"next":{"title":"Practical Work Bonus: Play with dice","url":"/image-processing-practical-work-bonus","group":"Image"}}},"domain":"http://localhost:3002"}